#!/usr/bin/env bash

###choose mode of download
echo "Which mode of PDB download would you like?"
echo "1. Download 100 structures from a sublist"
echo "2. Download 100 random structures from master list"
echo "3. Skip download, use what is in PDB directory"
read mode

if [ $mode == 1 ]
then
	###choose a sublist to download
	python3 get-pdbs.py
elif [ $mode == 2 ]
then
	###choose 100 random structures
	python3 pick-random-pdbs.py
elif [ $mode == 3 ]
then
	break
fi

###switch to python 2.7 for prepare-pdbs.py
#source ~/anaconda3/etc/profile.d/conda.sh
#conda activate snakes
python prepare-pdbs.py
#conda deactivate

###run thru fpocket, clean up, center and align each pocket
python3 gen-pockets.py
python3 pocket-finder.py
python3 align-structures.py

###generate surf files
python3 compare.py

###analyse VASP output
python3 get-score-file.py

###generate pose files for rosetta
python3 rosetta-prep.py

###move successful pdbs to winners archive, append new scores to
###master scorefile, and clear out the VASP folder for the next round
#python move-good-pdbs.py
